<!doctype HTML>
<html lang="en">
    <head>
        <link href="/css/2022-08-29.css" rel="stylesheet">
        <meta charset="utf-8">
        <meta content="summary" name="twitter:card">
        <meta content="A page from the Substrate manual" name="twitter:description">
        <meta content="https://src-bin.com/img/apple-touch-icon.png" name="twitter:image">
        <meta content="@src_bin" name="twitter:site">
        <meta content="Source &amp; Binary / Substrate manual / Adding an environment or quality" name="twitter:title">
        <meta content="width=device-width,initial-scale=1" name="viewport">
        <meta content="A page from the Substrate manual" property="og:description">
        <meta content="https://src-bin.com/img/apple-touch-icon.png" property="og:image">
        <meta content="Source &amp; Binary / Substrate manual / Adding an environment or quality" property="og:title">
        <meta content="website" property="og:type">
        <meta content="https://src-bin.com/substrate/manual/adding-an-environment-or-quality/" property="og:url">
        <title>Source &amp; Binary / Adding an environment or quality</title>
    </head>
    <body>
        <header>
            <h1><a href="/">Source <span class="fancy">&amp;</span> Binary</a></h1>
            <p><a href="mailto:hello@src-bin.com">hello@src-bin.com</a></p>
            <aside>Purveyors&nbsp;of&nbsp;secure,&nbsp;reliable,&nbsp;and&nbsp;compliant&nbsp;cloud&nbsp;infrastructure&nbsp;since&nbsp;2020</aside>
            <nav>
                <ul>
                    <li><a href="/substrate/">Substrate</a></li>
                    <li><a href="/substrate/manual/">Documentation</a></li>
                    <li><a href="/substrate/pricing/">Pricing</a></li>
                    <!--<li><a href="/compliance/">Compliance Workshop</a></li>-->
                </ul>
            </nav>
        </header>

        <section>

<h1>Adding an environment or quality</h1>

<p>Environments and qualities create isolation between groups of AWS accounts to allow you to keep development separate from production yet also incrementally implement changes to AWS resources. Most customers begin their time using Substrate with a couple of environments and a single quality and are eventually motivated to add more of&nbsp;each.</p>

<p>Add more environments to create entirely disjoint data sets with all the supporting infrastructure. You might want these for additional testing, disaster recovery, or even to isolate each of your customers from the&nbsp;others.</p>

<p>Add more qualities to create the opportunity to incrementally change load balancers, autoscaling groups, security groups, DNS zones, IAM roles, and other AWS resources that are typically difficult to incrementally&nbsp;change.</p>

<p>See <a href="../domains-environments-qualities/">domains, environments, and qualities</a> for more discussion of these fundamental Substrate&nbsp;concepts.</p>

<p>To add an environment, a quality, or both, follow these&nbsp;steps:</p>

<ol>
<li>Run <code>substrate bootstrap-network-account -fully-interactive</code></li>
<li>If you wish to add an environment, answer &ldquo;no&rdquo; when asked if your list of environments is correct and follow the&nbsp;prompts</li>
<li>If you wish to add a quality, answer &ldquo;no&rdquo; when asked if your list of qualities is correct and follow the&nbsp;prompts</li>
<li>Answer &ldquo;no&rdquo; when asked if the valid environment and quality pairs are&nbsp;correct</li>
<li>Then answer &ldquo;yes&rdquo; and &ldquo;no&rdquo; accordingly to allow whatever new combinations of environment and quality you&nbsp;wish</li>
</ol>

<p>Be warned: If your additions cause sufficiently many NAT Gateways to be created, the tools will open support cases on your behalf to have service quotas raised. AWS is often not the most accommodating with these requests. If AWS gives you a hard time it is likely because they don&rsquo;t want to give you additional Elastic IPs. <strong>Tell them you&rsquo;re trying to create VPCs to share to all your AWS accounts, each with three private subnets and zonal NAT Gateways, which is exactly how AWS wants you to design your networks.</strong> These support cases can unfortunately take hours or even days to be resolved; they&rsquo;re usually fastest to respond if you request a chat or phone response. By the way, if <code>substrate bootstrap-network-account</code> exits early, it may simply be re-run; it will find the existing request to increase your quota and continue waiting for it to be&nbsp;resolved.</p>

<p>Once you&rsquo;ve added an environment and/or quality, you&rsquo;ll need to use <code>substrate create-account</code> to add each of your domains to the new environment/quality pair(s). See <a href="../adding-a-domain/">adding a domain</a> for more on that&nbsp;step.</p>

        </section>

        <footer>
            <p class="fine-print">&copy; 2020-2022 &mdash; Source <span class="fancy">&amp;</span> Binary&nbsp;LLC</p>
        </footer>
    </body>
</html>
