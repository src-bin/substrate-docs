<!doctype HTML>
<html lang="en">
    <head>
        <link href="/css/2022-08-29.css" rel="stylesheet">
        <meta charset="utf-8">
        <meta content="summary" name="twitter:card">
        <meta content="A page from the Substrate manual" name="twitter:description">
        <meta content="https://src-bin.com/img/apple-touch-icon.png" name="twitter:image">
        <meta content="@src_bin" name="twitter:site">
        <meta content="Source &amp; Binary / Substrate manual / Addressing SOC 2 criteria with Substrate" name="twitter:title">
        <meta content="width=device-width,initial-scale=1" name="viewport">
        <meta content="A page from the Substrate manual" property="og:description">
        <meta content="https://src-bin.com/img/apple-touch-icon.png" property="og:image">
        <meta content="Source &amp; Binary / Substrate manual / Addressing SOC 2 criteria with Substrate" property="og:title">
        <meta content="website" property="og:type">
        <meta content="https://src-bin.com/substrate/manual/addressing-soc-2-criteria-with-substrate/" property="og:url">
        <title>Source &amp; Binary / Addressing SOC 2 criteria with Substrate</title>
    </head>
    <body>
        <header>
            <h1><a href="/">Source <span class="fancy">&amp;</span> Binary</a></h1>
            <p><a href="mailto:hello@src-bin.com">hello@src-bin.com</a></p>
            <aside>Purveyors&nbsp;of&nbsp;secure,&nbsp;reliable,&nbsp;and&nbsp;compliant&nbsp;cloud&nbsp;infrastructure&nbsp;since&nbsp;2020</aside>
            <nav>
                <ul>
                    <li><a href="/">Benefits</a></li>
                    <li><a href="/substrate/">Features</a></li>
                    <li><a href="/substrate/manual/">Documentation</a></li>
                    <li><a href="/substrate/pricing/">Pricing</a></li>
                    <!--<li><a href="/compliance/">Compliance Workshop</a></li>-->
                </ul>
            </nav>
        </header>

        <section>

<h1>Addressing SOC 2 criteria with Substrate</h1>

<p>Most Substrate users are already or soon will be operating a SOC 2 compliance program. The following <a href="https://us.aicpa.org/content/dam/aicpa/interestareas/frc/assuranceadvisoryservices/downloadabledocuments/trust-services-criteria.pdf">SOC 2 criteria</a> are at least partially addressed merely by adopting Substrate. In some cases, reference controls are provided that you&rsquo;re free to adopt verbatim or adapt as you and your auditors see&nbsp;fit.</p>

<p><em>If you&rsquo;re feeling a bit like a deer in headlights about SOC 2 compliance, take Source &amp; Binary&rsquo;s <a href="/compliance/">SOC 2 compliance workshop</a> and make SOC 2 a competitive advantage for your business. Email <a href="&#109;&#97;&#x69;l&#x74;&#111;:&#x68;e&#108;&#108;&#x6F;&#64;&#115;r&#x63;&#x2D;&#x62;&#105;&#x6E;&#46;&#99;&#x6F;&#109;">&#x68;e&#108;&#108;&#x6F;&#64;&#115;r&#x63;&#x2D;&#x62;&#105;&#x6E;&#46;&#99;&#x6F;&#109;</a> to schedule yours.</em></p>

<h2>CC6.1</h2>

<p><strong>The entity implements logical access security software, infrastructure, and architectures over protected information assets to protect them from security events to meet the entity&rsquo;s objectives.</strong></p>

<p>Substrate requires you to use an OAuth OIDC identity provider to control access to AWS (where, presumably, your &ldquo;information assets&rdquo; are hosted) to benefit from controls commonly applied to identity&nbsp;providers:</p>

<ul>
<li>Users have unique accounts for access to sensitive data, infrastructure, and&nbsp;tools.</li>
<li>Access to sensitive data, infrastructure, and tools requires two-factor&nbsp;authentication.</li>
<li>Users are granted access to sensitive data, infrastructure, and tools based on their&nbsp;role.</li>
</ul>

<p>Provide evidence of the thoroughness of your integration between AWS and your identity provider by showing that there are no IAM users for any of your employees and demonstrating how to use Substrate tools to access&nbsp;AWS.</p>

<h2>CC6.2</h2>

<p><strong>Prior to issuing system credentials and granting system access, the entity registers and authorizes new internal and external users whose access is administered by the entity. For those users whose access is administered by the entity, user system credentials are removed when user access is no longer authorized.</strong></p>

<p>Substrate integrates with your identity provider so that existing onboarding and offboarding processes serve to grant and revoke access to AWS without additional&nbsp;steps.</p>

<p>Provide evidence of existing onboarding and offboarding processes handling AWS by revoking a coworker&rsquo;s access and then granting it&nbsp;again.</p>

<h2>CC6.3</h2>

<p><strong>The entity authorizes, modifies, or removes access to data, software, functions, and other protected information assets based on roles, responsibilities, or the system design and changes, giving consideration to the concepts of least privilege and segregation of duties, to meet the entity’s objectives.</strong></p>

<p>Substrate integrates with your identity provider so that existing change-of-role processes serve to modify access to AWS without additional&nbsp;steps.</p>

<p>Provide evidence of existing change-of-role processes handling AWS by changing your own or a coworker&rsquo;s role and then refreshing the Accounts page of your Intranet to observe the role&nbsp;changing.</p>

<h2>CC6.6</h2>

<p><strong>The entity implements logical access security measures to protect against threats from sources outside its system boundaries.</strong></p>

<p>In a Substrate-managed AWS organization, all actors are considered to be outside the system&rsquo;s boundaries unless they&rsquo;re authorized by your identity provider. Once authorized, users can use AWS APIs or SSH (via the Instance Factory) to access sensitive data, infrastructure, and tools. Restricting production SSH access to 192.168.0.0/16 (the network used by your admin account(s)) ensures that the Instance Factory is the only way in and access to the Instance Factory is controlled by your identity&nbsp;provider.</p>

<p>Controls to&nbsp;consider:</p>

<ul>
<li>Access to sensitive data, infrastructure, and tools is controlled by [your identity&nbsp;provider].</li>
<li>SSH access to sensitive infrastructure is restricted to [role&nbsp;name(s)].</li>
</ul>

<p>Provide evidence of these controls functioning by showing firewall rules restricting SSH access to 192.168.0.0/16, only your admin VPCs having CIDR prefixes within that, and only authorized users being able to use the Instance&nbsp;Factory.</p>

<h2>CC6.7</h2>

<p><strong>The entity restricts the transmission, movement, and removal of information to authorized internal and external users and processes, and protects it during transmission, movement, or removal to meet the entity’s objectives.</strong></p>

<p>Internal users (read: your employees) are subject to whatever AWS IAM policies you attach to their role, which can serve to restrict both which AWS accounts they can access and which actions they can take there. Pay close attention, especially, to who can <code>s3:GetObject</code> on S3 buckets storing sensitive data. The IAM roles your services use as they broker access for external users (read: your customers) are subject to the same restrictions. In both cases, Substrate&rsquo;s use of multiple AWS accounts makes it easy to assert that services outside an account cannot access sensitive data&nbsp;within.</p>

<p>Also, concerning your Intranet: Substrate ensures your Intranet is always served over TLS with a valid&nbsp;certificate.</p>

<h2>CC8.1</h2>

<p><strong>The entity authorizes, designs, develops or acquires, configures, documents, tests, approves, and implements changes to infrastructure, data, software, and procedures to meet its objectives.</strong></p>

<p>Substrate&rsquo;s insistence on using Terraform and multiple AWS pays dividends here by creating separation between environments and qualities, making it easy to demonstrate that changes are tested before they reach (all of)&nbsp;production.</p>

<p>Controls to&nbsp;consider:</p>

<ul>
<li>Terraform enforces standard infrastructure&nbsp;configurations.</li>
<li>Infrastructure changes are tested in development before being implemented in&nbsp;production.</li>
<li>Infrastructure changes are implemented gradually in production. (Applicable if using multiple qualities and/or multiple&nbsp;regions.)</li>
<li>The development and production environments are&nbsp;separated.</li>
<li>Production data is not used or accessible in&nbsp;development.</li>
</ul>

<p>Provide evidence of these controls functioning by showing that development and production are served by entirely different AWS accounts and that the VPCs for each environment are not peered with those from other&nbsp;environments.</p>

<h2>CC9.1</h2>

<p><strong>The entity identifies, selects, and develops risk mitigation activities for risks arising from potential business disruptions.</strong></p>

<p>Substrate can help you architect your Terraform code to be multi-region-ready. Substrate also supports multiple environments which can facilitate disaster recovery exercises (or even the real&nbsp;thing).</p>

<!--Though uncommon, Substrate supports creating multiple admin accounts, which means it&rsquo;s possible to account for an identity provider outage by configuring a second one.-->

<h2>A1.2</h2>

<p><strong>The entity authorizes, designs, develops or acquires, implements, operates, approves, maintains, and monitors environmental protections, software, data backup processes, and recovery infrastructure to meet its objectives.</strong></p>

<p>So long as you define your infrastructure using <code>module.substrate.private_subnet_ids</code> and <code>module.substrate.public_subnet_ids</code>, you can be guaranteed to always be operating in three availability zones, even if you&rsquo;re only using one&nbsp;region.</p>

<p>Control to consider: Infrastructure is provisioned across three availability&nbsp;zones.</p>

<p>Provide evidence of this control functioning by showing your Terraform code, actual resources (ECS or EKS clusters, autoscaling groups, database clusters, etc.) in the AWS Console, and the <a href="../writing-terraform-code/">documentation for <code>module.substrate.private_subnet_ids</code> and <code>module.substrate.public_subnet_ids</code></a>.</p>

<!--

CC2.1, CC4.1 use the Auditor role to enable infrastructure-level vulnerability scanning and penetration testing

CC2.2, CC2.3 system boundaries (and internal partitions) as AWS accounts, mapped in `substrate.accounts.txt`

CC2.2, CC7.3 TODO publish a sample incident response plan like J&rsquo;s

CC3.2 to the degree that changes are risky, Substrate helps to minimize the blast radius of changes in service (especially) of availability

CC4.1 AWS access is brokered entirely by the IdP, which reduces the number of places where access must be granted, revoked, and reviewed

CC5.1 multiple AWS accounts severely limit risks between domains, between environments, of over-permissioning, and of confused deputies

CC6.1 IdP and IAM roles, 2FA or temporary credentials, segmentation of networks and AWS accounts, TLS or SSH for everything

CC6.6 IdP brokers all access from the outside, encrypted by TLS and SSH, firewall defaults to closed

CC6.7 IdP brokers all access

CC6.8, CC7.1 Terraform code under version control and mandatory code review governs everything that runs in AWS

CC7.1 TODO is there a scanner we can cost-effectively enable by default?

CC7.2 CloudTrail TODO what alerts should we configure by default? (also note that they need their own monitoring for availability)

A1.1 elastic nature of almost all AWS products makes this trivial, minimizing active capacity management burdens

A1.3 native use of environments and multiple regions can streamline disaster recovery exercises



35df2107308574dfcc2bb3d93005d840



-->

        </section>

        <footer>
            <p class="fine-print">&copy; 2020-2022 &mdash; Source <span class="fancy">&amp;</span> Binary&nbsp;LLC</p>
        </footer>
    </body>
</html>
